<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .cell { width: 60px; height: 60px; border: 2px solid #334155; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: bold; text-transform: uppercase; transition: all 0.2s; }
        .correct { background-color: #22c55e !important; border-color: #22c55e !important; color: white; }
        .present { background-color: #eab308 !important; border-color: #eab308 !important; color: white; }
        .absent { background-color: #475569 !important; border-color: #475569 !important; color: white; }
        .active-cell { border-color: #6366f1; transform: scale(1.05); }
        .key { min-width: 40px; height: 50px; border-radius: 4px; display: flex; align-items: center; justify-content: center; background: #334155; cursor: pointer; font-weight: bold; font-size: 0.8rem; user-select: none; }
        .key:active { transform: scale(0.95); background: #475569; }
    </style>
</head>
<body class="bg-slate-900 text-white flex flex-col items-center justify-center min-h-screen p-4">

    <div class="mb-8 text-center">
        <h1 class="text-3xl font-bold text-indigo-400">WORDLE</h1>
        <p id="msg" class="text-indigo-200 h-6 text-sm mt-2 font-medium"></p>
    </div>

    <div id="grid" class="grid grid-rows-6 gap-2 mb-8"></div>

    <div id="keyboard" class="flex flex-col gap-2 w-full max-w-md">
        <div class="flex justify-center gap-1" id="row1"></div>
        <div class="flex justify-center gap-1" id="row2"></div>
        <div class="flex justify-center gap-1" id="row3"></div>
    </div>

<script>
    const WORDS = ["APPLE", "BREAD", "CHASE", "DREAM", "EAGLE", "FLAME", "GHOST", "HOUSE", "IMAGE", "JUICE", "KNIFE", "LIGHT", "MUSIC", "NIGHT", "OCEAN", "PAPER", "QUIET", "RIVER", "SMILE", "TIGER", "WATER", "YOUNG", "ZEBRA"];
    let target = WORDS[Math.floor(Math.random() * WORDS.length)];
    let currentGuess = "";
    let guesses = [];
    let gameOver = false;

    function init() {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        for (let i = 0; i < 30; i++) {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.id = 'cell-' + i;
            grid.appendChild(cell);
        }
        setupKeyboard();
    }

    function setupKeyboard() {
        const rows = ["QWERTYUIOP", "ASDFGHJKL", "ZXCVBNM"];
        rows.forEach((row, i) => {
            const rowDiv = document.getElementById('row' + (i + 1));
            rowDiv.innerHTML = '';
            if (i === 2) {
                const ent = createKey("ENTER", () => submitGuess());
                rowDiv.appendChild(ent);
            }
            row.split('').forEach(char => {
                const k = createKey(char, () => addChar(char));
                k.id = 'key-' + char;
                rowDiv.appendChild(k);
            });
            if (i === 2) {
                const del = createKey("DEL", () => deleteChar());
                rowDiv.appendChild(del);
            }
        });
    }

    function createKey(label, action) {
        const k = document.createElement('div');
        k.className = 'key';
        k.innerText = label;
        k.onclick = action;
        return k;
    }

    function addChar(c) {
        if (gameOver || currentGuess.length >= 5) return;
        currentGuess += c;
        updateGrid();
    }

    function deleteChar() {
        if (gameOver || currentGuess.length === 0) return;
        currentGuess = currentGuess.slice(0, -1);
        updateGrid();
    }

    function updateGrid() {
        const rowOffset = guesses.length * 5;
        for (let i = 0; i < 5; i++) {
            const cell = document.getElementById('cell-' + (rowOffset + i));
            cell.innerText = currentGuess[i] || "";
            cell.classList.toggle('active-cell', i === currentGuess.length - 1);
        }
    }

    function submitGuess() {
        if (gameOver) return;
        if (currentGuess.length !== 5) {
            showMsg("Word too short!");
            return;
        }

        const rowOffset = guesses.length * 5;
        let result = new Array(5).fill('absent');
        let targetArr = target.split('');
        let guessArr = currentGuess.split('');

        // Find greens
        for (let i = 0; i < 5; i++) {
            if (guessArr[i] === targetArr[i]) {
                result[i] = 'correct';
                targetArr[i] = null;
                guessArr[i] = null;
            }
        }
        // Find yellows
        for (let i = 0; i < 5; i++) {
            if (guessArr[i] && targetArr.includes(guessArr[i])) {
                result[i] = 'present';
                targetArr[targetArr.indexOf(guessArr[i])] = null;
            }
        }

        // Update visuals
        for (let i = 0; i < 5; i++) {
            const cell = document.getElementById('cell-' + (rowOffset + i));
            cell.classList.add(result[i]);
            updateKey(currentGuess[i], result[i]);
        }

        if (currentGuess === target) {
            showMsg("GENIUS! âœ¨");
            gameOver = true;
        } else if (guesses.length === 5) {
            showMsg("Lost! The word was " + target);
            gameOver = true;
        }

        guesses.push(currentGuess);
        currentGuess = "";
    }

    function updateKey(char, status) {
        const key = document.getElementById('key-' + char);
        if (!key) return;
        if (status === 'correct') key.classList.add('correct');
        else if (status === 'present' && !key.classList.contains('correct')) key.classList.add('present');
        else if (status === 'absent' && !key.classList.contains('correct') && !key.classList.contains('present')) key.classList.add('absent');
    }

    function showMsg(m) {
        document.getElementById('msg').innerText = m;
        setTimeout(() => { if(!gameOver) document.getElementById('msg').innerText = ""; }, 2000);
    }

    window.onkeydown = (e) => {
        if (e.key === "Enter") submitGuess();
        if (e.key === "Backspace") deleteChar();
        if (e.keyCode >= 65 && e.keyCode <= 90) addChar(e.key.toUpperCase());
    }

    init();
</script>
</body>
</html>
